<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TON Wallet Connect</title>
<script src="https://cdn.jsdelivr.net/npm/@tonconnect/sdk@0.0.10/dist/tonconnect.umd.js"></script>
</head>
<body>
<h2>Connect TON Wallet</h2>
<button id="connectBtn">Connect Wallet</button>
<p id="walletAddress"></p>

<script>
const connectBtn = document.getElementById('connectBtn');
const walletAddress = document.getElementById('walletAddress');

connectBtn.onclick = async () => {
  try {
    const res = await fetch('/auth-request');
    const data = await res.json();
    // Open Tonkeeper via deeplink
    window.location.href = data.deeplinkURL;
  } catch(e) {
    console.error("Failed to connect wallet:", e);
  }
};
</script>
</body>
</html>
